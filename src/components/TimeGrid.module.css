/* ─── Layout ──────────────────────────────────────────────────────────────── */
.wrapper {
    border: 1px solid #dadce0;
    border-radius: 12px;
    /*
     * overflow: clip clips corners for border-radius WITHOUT creating a new
     * scroll container — so position:sticky inside works against the page viewport,
     * not against this element. This is the key difference from overflow:hidden.
     */
    overflow: clip;
    user-select: none;
    background: #fff;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08);
    touch-action: none;
}

.gridScroll {
    /* Horizontal scroll on narrow screens only — vertical is the page */
    overflow-x: auto;
    overflow-y: visible;
    background: #fff;
    -webkit-overflow-scrolling: touch;
    /* Room for the bottom end-time label that overhangs via translateY(50%) */
    padding-bottom: 12px;
}

.table {
    border-collapse: separate;
    border-spacing: 0;
    width: max-content;
    min-width: 100%;
    font-size: 13px;
    font-family: 'DM Sans', 'Google Sans', system-ui, sans-serif;
}

/* ─── Header ──────────────────────────────────────────────────────────────── */
.th {
    border-bottom: 2px solid #dadce0;
    border-right: 1px solid #e8eaed;
    padding: 10px 8px 8px;
    background: #fff;
    color: #3c4043;
    text-align: center;
    white-space: nowrap;
    position: sticky;
    top: 0;
    z-index: 3;
}

.corner {
    position: sticky;
    left: 0;
    z-index: 5;
    min-width: 44px;
    width: 44px;
    border-right: 1px solid #dadce0;
    /* sticky is a containing block for the absolute first-time label */
    background: #fff;
}

.dow {
    font-size: 11px;
    font-weight: 600;
    color: #1a73e8;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    line-height: 1.2;
}

.dateLabel {
    font-size: 13px;
    font-weight: 700;
    color: #202124;
    line-height: 1.3;
}

.sub {
    font-size: 11px;
    color: #80868b;
    margin-top: 3px;
    line-height: 1.2;
}

/* ─── Cells ───────────────────────────────────────────────────────────────── */
.td {
    border-bottom: 1px solid #e8eaed;
    border-right: 1px solid #e8eaed;
    height: 28px;
    width: 80px;
    background: #fff;
    transition: background 60ms;
}

/* ─── Time column ─────────────────────────────────────────────────────────── */
/*
 * POINT 3: the time label must sit ON the grid line (top border of the row),
 * not inside the cell. We achieve this with:
 *   - position: relative on the td (so the absolute child offsets from it)
 *   - overflow: visible so the label can extend above into the row above
 *   - position: absolute; top: 0; transform: translateY(-50%) on the label
 *     ↳ this centers the label vertically on the top border of the row
 */
.timeCell {
    position: sticky;
    left: 0;
    z-index: 2;
    background: #fff;
    min-width: 44px;
    width: 44px;
    padding: 0;
    border-right: 1px solid #dadce0;
    overflow: visible;
}

.timeLineLabel {
    position: absolute;
    /* Center the label on the top border of this row */
    top: 0;
    left: 0;
    right: 6px;
    transform: translateY(-50%);

    text-align: right;
    font-variant-numeric: tabular-nums;
    font-size: 11px;
    line-height: 1;
    color: #70757a;
    white-space: nowrap;
    pointer-events: none;

    /* white background so it isn't transparent over cells */
    background: #fff;
    padding: 1px 0;
}

/* ─── Read-only / locked state ────────────────────────────────────────────── */
.wrapperLocked {
    opacity: 0.7;
    /* no pointer-events so locked grid can't be accidentally tapped */
    pointer-events: none;
}

.cellLocked {
    cursor: default !important;
}

.cellLocked:hover {
    background: inherit !important;
    filter: none !important;
}

/* ─── Cell states ─────────────────────────────────────────────────────────── */
.cellBase {
    cursor: pointer;
    background: #fff;
}

.cellBase:hover {
    background: #f1f8ff;
}

.cellDisabled {
    background: #f8f9fa;
    cursor: default;
}

.cellGreen {
    background: #ceead6 !important;
}

.cellGreen:hover {
    background: #b3d9bc !important;
}

.cellYellow {
    background: #fef3c7 !important;
}

.cellYellow:hover {
    background: #fde68a !important;
}

/*
 * First time label lives INSIDE the corner <th> so it inherits the
 * thead's z-index and sticks above all body cells.
 * Anchored to the bottom of the corner th → sits exactly on the header
 * bottom border (translateY 50% = half below the border = visually centered on it).
 */
.cornerTimeLabel {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 6px;
    transform: translateY(50%);

    text-align: right;
    font-variant-numeric: tabular-nums;
    font-size: 11px;
    line-height: 1;
    color: #70757a;
    white-space: nowrap;
    pointer-events: none;
    background: #fff;
    padding: 1px 0;
    z-index: 1;
}

/*
 * Last-slot end label: mirrors .timeLineLabel but anchored to the BOTTOM
 * border of the last row (translateY(+50%) instead of -50%).
 * This removes the need for a separate endTimeRow div.
 */
.timeLabelEnd {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 6px;
    transform: translateY(50%);

    text-align: right;
    font-variant-numeric: tabular-nums;
    font-size: 11px;
    line-height: 1;
    color: #70757a;
    white-space: nowrap;
    pointer-events: none;
    background: #fff;
    padding: 1px 0;
    z-index: 1;
}

/* ─── Responsive ──────────────────────────────────────────────────────────── */
@media (max-width: 600px) {
    .td {
        width: 56px;
        height: 32px; /* slightly taller on mobile = easier tap */
    }

    .th {
        padding: 8px 4px 6px;
    }

    .dateLabel {
        font-size: 11px;
    }

    .sub {
        display: none; /* hide start–end range on tiny screens */
    }
}